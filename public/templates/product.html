<div class="box">
    <div class="box-body">
        <div class="row">
            <div class="col-xs-12">
                <h3 class="text-center page-header">Produto</h3>
            </div>
        </div>

        <!-- ko if: step() == Constants.STEPS.Listing -->
            <div class="row mb-10">
                <div class="col-xs-6 col-md-2 btn-block">
                    <button class="btn btn-primary btn-flat" data-bind="click: $data.new">Incluir Produto
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>

            <div class="row">
                <data-table params="conf : $data.configDataTable"> </data-table>
            </div>
        <!-- /ko -->

        <!-- ko if: ((step() == Constants.STEPS.AddingNew) || (step() == Constants.STEPS.Editing)) -->

            <div class="row mb-10">
                <div class="col-md-6">
                    <button-back params="click: back"></button-back>
                </div>
            </div>

            <div data-bind="with: $data.product">
                <div class="row">
                    <form-input-text params="maxlength: 50, value: name, placeholder: 'Nome', label:'Nome',css: 'col-md-6'"></form-input-text>
                    <form-input-number params="value: stock, placeholder: 'Estoque', label:'Estoque',css: 'col-md-6'"></form-input-number>
                </div>
                <div class="row">
                    <form-input-number params="value: price, placeholder: 'Preço', label:'Preço',css: 'col-md-6'"></form-input-number>
                    <div class="col-md-6">
                        <label> Categoria </label>
                        <input type="text" class="form-control"
                            data-bind="jqAuto: { value: $parent.completeCategory.value, source: $parent.completeCategory.source, labelProp: 'label' }" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label> Marca </label>
                        <input type="text" class="form-control"
                            data-bind="jqAuto: { value: $parent.completeBrand.value, source: $parent.completeBrand.source, labelProp: 'label' }" />
                    </div>
                    <div class="col-md-6">
                        <label>Containers</label>
                        <!-- ko foreach: $parent.containers -->
                            <div class="checkbox">
                                <label><input type="checkbox" data-bind="checked: checked"><!--ko text: name--><!--/ko--></label>
                            </div>
                        <!-- /ko -->
                    </div>
                </div>
                <div class="row">
                    <form-input-textarea params="maxlength: 500, rows: 5, value: description, placeholder: 'Descrição', label:'Descrição',css: 'col-md-12'"></form-input-textarea>
                </div>
            </div>

            <div class="row">
                <!-- ko foreach: images -->
                    <div class="col-md-3">

                        <label class="container-check">
                            <input type="checkbox" data-bind="checked: $data.checked() == 1, click: $parent.onCheckImagem">
                            <span class="checkmark"></span>
                        </label>

                        <item-crop-image
                            params="pictureCropper: $data.pictureCropper,
                                fileSelected: $data.fileSelected,
                                urlImageInitial: $data.urlImageInitial,
                                showAttachImage: $data.showAttachImage"></item-crop-image>

                        <label class="btn btn-xs btn-warning mt-5" data-bind="click: function(){ $parent.removeImage($data) }">Remover</label>
                    </div>
                <!-- /ko -->
            </div>

            <hr>

            <div class="row">
                <div class="col-md-12 mt-5">
                    <custom-button params="click: addMostImage, text: '+ IMAGEM'"></custom-button>
                </div>
            </div>

            <div class="row">
                <div class="col-md-3 pull-right">
                    <custom-button params="click: $data.save, text: 'Salvar', css: 'btn btn-success btn-block ripple'"></custom-button>
                </div>
            </div>

        <!-- /ko -->

    </div>
</div>